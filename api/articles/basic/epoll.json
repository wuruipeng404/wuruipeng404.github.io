{"title":"select poll epoll","uid":"5f7c30e057df77178fa3c740f5edfc89","slug":"basic/epoll","date":"2020-08-13T07:27:09.000Z","updated":"2021-12-11T02:10:04.777Z","comments":true,"path":"api/articles/basic/epoll.json","keywords":"golang rust python docker k8s","cover":null,"content":"<p>ä»Šå¤©è¢«é—®åˆ°epollæœºåˆ¶ï¼Œå€’ä¸æ˜¯ä¸çŸ¥é“ï¼Œå°±æ˜¯é•¿æ—¶é—´ä¸çœ‹ä»–å°±å®¹æ˜“å¿½ç•¥ä¸€äº›ç»†èŠ‚ï¼Œå¯¼è‡´æè¿°ä¸å¥½ã€‚<br>å¥½å§é‚£æˆ‘ä»¬å°±æ¥å¤ä¹ ä¸€ä¸‹å§ã€‚ï¼ˆè™½ç„¶æˆ‘å‘æ¥ä¸æ˜¯ä¸€ä¸ªé¢å‘é¢è¯•ç¼–ç¨‹çš„äººï¼‰-.&#x3D;</p>\n<span id=\"more\"></span>\n<p>é¦–å…ˆ select,poll,epolléƒ½æ˜¯I&#x2F;Oå¤šè·¯å¤ç”¨çš„æœºåˆ¶ã€‚<br>I&#x2F;Oå¤šè·¯å¤ç”¨ï¼šé€šè¿‡ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥ç›‘è§†å¤šä¸ªæè¿°ç¬¦ï¼Œä¸€æ—¦æŸä¸ªæè¿°ç¬¦å°±ç»ªï¼ˆä¸€èˆ¬æ˜¯è¯»å°±ç»ªæˆ–è€…å†™å°±ç»ªï¼‰ï¼Œèƒ½å¤Ÿé€šçŸ¥ç¨‹åºï¼ˆä¹Ÿå°±æ˜¯å“åº”çš„è¿›ç¨‹ï¼‰è¿›è¡Œç›¸åº”çš„è¯»å†™æ“ä½œã€‚ä½†selectï¼Œpollï¼Œepollæœ¬è´¨ä¸Šéƒ½æ˜¯åŒæ­¥I&#x2F;Oï¼Œå› ä¸ºä»–ä»¬éƒ½éœ€è¦åœ¨è¯»å†™äº‹ä»¶å°±ç»ªåè‡ªå·±è´Ÿè´£è¿›è¡Œè¯»å†™ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªè¯»å†™è¿‡ç¨‹æ˜¯é˜»å¡çš„ï¼Œè€Œå¼‚æ­¥I&#x2F;Oåˆ™æ— éœ€è‡ªå·±è´Ÿè´£è¿›è¡Œè¯»å†™ï¼Œå¼‚æ­¥I&#x2F;Oçš„å®ç°ä¼šè´Ÿè´£æŠŠæ•°æ®ä»å†…æ ¸æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ã€‚</p>\n<p>å…³äºä¸‰è€…çš„å®ç°åŸç†è¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼Œå–„ç”¨æœç´¢å¼•æ“ï¼Œå¾ˆå¤šå¾ˆå¤šã€‚</p>\n<p>æ€»ç»“ä¸€ä¸‹ä¸‰è€…çš„ä¸€äº›ç‰¹å¾ä¸åŒºåˆ«</p>\n<ul>\n<li>select<ul>\n<li>ç›‘å¬çš„fdï¼ˆæ–‡ä»¶æè¿°ç¬¦ï¼‰æœ‰æœ€å¤§é™åˆ¶ <code>cat /proc/sys/fs/file-max</code> æŸ¥çœ‹ï¼Œä¸€èˆ¬é»˜è®¤32ä½æ˜¯1024ï¼Œ64ä½æ˜¯2048 </li>\n<li>å¯¹socketçš„æ‰«ææ˜¯è½®è®­æ‰«æï¼Œè€Œä¸”ä¸ç®¡å…¶æ˜¯å¦æ´»è·ƒéƒ½ä¼šæ‰«æï¼Œæ•ˆç‡ä½ä¸‹ï¼Œä¸”æµªè´¹cpuæ—¶é—´</li>\n<li>éœ€è¦ç»´æŠ¤ä¸€ä¸ªå­˜æ”¾fdçš„æ•°æ®ç»“æ„ï¼ŒğŸ™†ç”¨æˆ·ç©ºé—´ä¸å†…æ ¸ç©ºé—´åœ¨ä¼ é€’è¯¥ç»“æ„æ—¶å¤åˆ¶å¼€é”€å¤§</li>\n</ul>\n</li>\n<li>poll<ul>\n<li>ä¸selectç›¸æ¯” ä»…ä»…æ˜¯æ²¡æœ‰æœ€å¤§è¿æ¥æ•°çš„é™åˆ¶ï¼Œå› ä¸ºæ˜¯åŸºäºé“¾è¡¨æ¥å®ç°çš„ã€‚</li>\n</ul>\n</li>\n<li>epoll<ul>\n<li>epoll æ²¡æœ‰æœ€å¤§å¹¶å‘è¿æ¥çš„æ˜¾ç¤º</li>\n<li>åŸºäºäº‹ä»¶å›è°ƒæœºåˆ¶ï¼Œåªæœ‰æ´»è·ƒçš„é“¾æ¥æ‰ä¼šè§¦å‘å›è°ƒï¼Œå”¤é†’è¿›ç¨‹è¿›è¡Œå¤„ç†</li>\n<li>åˆ©ç”¨mmap()æ–‡ä»¶æ˜ å°„åŠ é€Ÿä¸å†…æ ¸ç©ºé—´çš„æ¶ˆæ¯ä¼ é€’ï¼Œå‡å°‘å¤åˆ¶å¼€é”€</li>\n</ul>\n</li>\n</ul>\n<p>çœ‹å®Œäº†è¿™äº›åŒºåˆ«æ˜¯ä¸æ˜¯epollå°±ä¸‡èƒ½äº†å‘¢ï¼Œå½“ç„¶ä¸æ˜¯ï¼Œä»»ä½•ä¸œè¥¿ï¼Œéƒ½æœ‰å…¶é€‚ç”¨åœºæ™¯ï¼Œæ¯”å¦‚å½“é“¾æ¥æ¯”è¾ƒå°‘ï¼Œè€Œä¸”éƒ½æ˜¯æ´»è·ƒçš„æƒ…å†µä¸‹ï¼Œselect pollè‡ªç„¶æ¯”epollæ•ˆç‡é«˜ã€‚å› ä¸ºepolléœ€è¦å¾ˆå¤šå›è°ƒ</p>\n<p>ä½†æ˜¯<br>å½“ä»Šè¿™ä¸ªæ—¶ä»£ï¼Œç¡®å®å¯ç”¨ epoll ä¸€æŠŠæ¢­ã€‚æ¯•ç«Ÿæ„Ÿè§‰å¥½åƒäººäººéƒ½åœ¨è¿½æ±‚é«˜å¹¶å‘ï¼Œå¤§æµé‡ã€‚</p>\n","text":"ä»Šå¤©è¢«é—®åˆ°epollæœºåˆ¶ï¼Œå€’ä¸æ˜¯ä¸çŸ¥é“ï¼Œå°±æ˜¯é•¿æ—¶é—´ä¸çœ‹ä»–å°±å®¹æ˜“å¿½ç•¥ä¸€äº›ç»†èŠ‚ï¼Œå¯¼è‡´æè¿°ä¸å¥½ã€‚å¥½å§é‚£æˆ‘ä»¬å°±æ¥å¤ä¹ ä¸€ä¸‹å§ã€‚ï¼ˆè™½ç„¶æˆ‘å‘æ¥ä¸æ˜¯ä¸€ä¸ªé¢å‘é¢è¯•ç¼–ç¨‹çš„äººï¼‰-.&#x3D; é¦–å…ˆ select,poll,epolléƒ½æ˜¯I&#x2F;Oå¤šè·¯å¤ç”¨çš„æœºåˆ¶ã€‚I&#x2F;Oå¤šè·¯å¤ç”¨ï¼šé€šè¿‡ä¸€...","link":"","photos":[],"count_time":{"symbolsCount":816,"symbolsTime":"1 mins."},"categories":[{"name":"è®¡ç®—æœºåŸºç¡€","slug":"è®¡ç®—æœºåŸºç¡€","count":2,"path":"api/categories/è®¡ç®—æœºåŸºç¡€.json"}],"tags":[{"name":"epoll","slug":"epoll","count":1,"path":"api/tags/epoll.json"},{"name":"poll","slug":"poll","count":1,"path":"api/tags/poll.json"},{"name":"select","slug":"select","count":1,"path":"api/tags/select.json"}],"toc":"","author":{"name":"Rumple","slug":"blog-author","avatar":"/images/avatar.jpeg","link":"/","description":"ä¸æ–­å­¦ä¹  æ‰èƒ½æ›´åŠ å¼ºå¤§","socials":{"github":"https://github.com/wuruipeng404","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"email":{"icon":"/images/mail.png","link":"mailto:wrp357711589@163.com"}}}},"mapped":true,"prev_post":{"title":"è®¡ç®—æœºåŸºç¡€ä¹‹ç½‘ç»œåè®®","uid":"bd1810b01d17021ef51e6fe61514d2b5","slug":"basic/è®¡ç®—æœºåŸºç¡€ä¹‹ç½‘ç»œåè®®","date":"2020-09-19T09:19:52.000Z","updated":"2022-03-12T06:12:23.355Z","comments":true,"path":"api/articles/basic/è®¡ç®—æœºåŸºç¡€ä¹‹ç½‘ç»œåè®®.json","keywords":"golang rust python docker k8s","cover":[],"text":"æˆ‘ä»¬éƒ½çŸ¥é“OSIæŠŠç½‘ç»œåˆ†ä¸ºäº†ä¸€ä¸ª7å±‚çš„æ¨¡å‹ï¼ŒOSIæ˜¯Open System Interconnectçš„ç¼©å†™ï¼Œæ„ä¸ºå¼€æ”¾å¼ç³»ç»Ÿäº’è”ã€‚ ä¸»è¦æ˜¯ï¼š åº”ç”¨å±‚ï¼ˆApplicationï¼‰ è¡¨ç¤ºå±‚ï¼ˆPresentationï¼‰ ä¼šè¯å±‚ï¼ˆSessionï¼‰ ä¼ è¾“å±‚ï¼ˆTransportï¼‰ ç½‘ç»œå±‚ï¼ˆNet...","link":"","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"è®¡ç®—æœºåŸºç¡€","slug":"è®¡ç®—æœºåŸºç¡€","count":2,"path":"api/categories/è®¡ç®—æœºåŸºç¡€.json"}],"tags":[{"name":"ç½‘ç»œåè®®","slug":"ç½‘ç»œåè®®","count":2,"path":"api/tags/ç½‘ç»œåè®®.json"}],"author":{"name":"Rumple","slug":"blog-author","avatar":"/images/avatar.jpeg","link":"/","description":"ä¸æ–­å­¦ä¹  æ‰èƒ½æ›´åŠ å¼ºå¤§","socials":{"github":"https://github.com/wuruipeng404","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"email":{"icon":"/images/mail.png","link":"mailto:wrp357711589@163.com"}}}}},"next_post":{}}